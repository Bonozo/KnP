function MaleAvatar(e){function t(t,i){return Titanium.UI.createImageView({height:e.main_view.height,width:e.main_view.width,top:0,left:0,image:t,visible:void 0!=e.thumb?!0:!1,zIndex:i})}function i(){--o<1&&n()}function n(){r.visible=!0,s.visible=!0,void 0==e.thumb&&(d.visible=!0),c.visible=!0,l.visible=!0,u.visible=!0,void 0==e.thumb&&(p.visible=!0),g.hide()}var a=Titanium.UI.createView();if(void 0!=e.thumb)var o=5;else var o=7;var r=t(e.appearence.dress,30);a.add(r),r.addEventListener("load",function(){i()});var s=t(e.appearence.helmet,50);if(a.add(s),s.addEventListener("load",function(){i()}),void 0==e.thumb){var d=t(e.appearence.shield,40);a.add(d),d.addEventListener("load",function(){i()})}var c=t(e.appearence.hair_back,10);a.add(c),c.addEventListener("load",function(){i()});var l=t(e.appearence.face,20);a.add(l),l.addEventListener("load",function(){i()});var u=t(e.appearence.hair_front,60);if(a.add(u),u.addEventListener("load",function(){i()}),void 0==e.thumb){var p=t(e.appearence.weapon,70);a.add(p),p.addEventListener("load",function(){i()})}var g=Titanium.UI.createLabel({text:"loading..."});return a.add(g),void 0!=e.custom&&1==e.custom&&Ti.App.addEventListener("update_appearance",function(e){if("m"==e.gender)switch(e.item){case"hair":c.image="/assets/knight/"+e.image+"-back.png",u.image="/assets/knight/"+e.image+"-front.png",c.zIndex=10,l.zIndex=20,u.zIndex=30;break;case"face":l.image="/assets/knight/"+e.image+".png";break;case"dress":r.image="/assets/knight/"+e.image+".png";break;case"weapon":p.image="/assets/knight/"+e.image+".png";break;case"shield":d.image="/assets/knight/"+e.image+".png";break;case"helmet":s.image="/assets/knight/"+e.image+".png"}}),a}module.exports=MaleAvatar;