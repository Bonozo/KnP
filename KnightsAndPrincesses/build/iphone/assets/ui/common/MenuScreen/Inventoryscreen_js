function Inventoryscreen(e){function t(t){var n=require("/ui/common/Functions/function");_url="http://bonozo.com:8080/knp/get_all_inventories.php?uid="+e.Record[0].UID,n.requestServer({success:function(){if(items_json=JSON.parse(this.responseText),void 0!=items_json.Record){for(var n=[],o=0,a=0;a<items_json.Record.length/f;a++){0==a&&(d.text=items_json.Record[o].NAME+"\n"+items_json.Record[o].TOTAL_UNIT+" Unit(s)",s.text="Value: "+items_json.Record[o].REQ_GOLD+" Gold",b.image="/assets/"+(E?_:"")+items_json.Record[o].IMAGE+".png",h.id=items_json.Record[o].ID,h.type=items_json.Record[o].CATEGORY,h.name=items_json.Record[o].NAME);for(var r=Titanium.UI.createTableViewRow({className:"inventory"+a,height:m+"px"}),c=0,l=0;o<items_json.Record.length&&4>l;){var u=Ti.UI.createImageView({image:"/assets/singlebox.png",width:m+"px",height:m+"px",top:"0px",zIndex:50,left:c}),g=Ti.UI.createImageView({image:"/assets/"+(E?_:"")+items_json.Record[o].IMAGE+".png",zIndex:100,width:m-2+"px",height:m-2+"px",left:c+1,name:items_json.Record[o].NAME,description:items_json.Record[o].DESCRIPTION,req_gold:items_json.Record[o].REQ_GOLD,total_unit:items_json.Record[o].TOTAL_UNIT,id:items_json.Record[o].ID,type:items_json.Record[o].CATEGORY});g.addEventListener("click",function(e){d.text=e.source.name+"\n"+e.source.total_unit+" Unit(s)",s.text="Value: "+e.source.req_gold+" Gold",b.image=e.source.image,h.id=e.source.id,h.type=e.source.type,h.name=e.source.name}),r.add(g),r.add(u),c+=m/2,o++,l++}n.push(r)}var I=Ti.UI.createTableView({backgroundColor:"transparent",separatorColor:"transparent",data:n,zIndex:100,separatorColor:"transparent",width:p+"%",height:"35%",bottom:"20%"});t(I);var T=Ti.UI.createImageView({image:"/assets/itemWindow_001.png",opacity:"0.7",width:"90%",height:"25%",left:"5%",top:"10%"});i.add(T);var v=Titanium.UI.createButton({color:"#761f56",backgroundImage:"/assets/button_small_UP.png",title:"Gift",height:"7%",font:{fontSize:14},width:"18%",top:"27.5%",right:"9%"});i.add(v),v.addEventListener("click",function(){var t=require("ui/common/MenuScreen/InventoryGifting"),i=new t(e,h);i.open({modal:!0})})}},method:"GET",contentType:"text/xml",url:_url})}var i=Titanium.UI.createView({top:"23%",height:"78%",width:"100%"}),n=Titanium.Platform.displayCaps.platformWidth,o=(Titanium.Platform.displayCaps.platformHeight,Ti.UI.createView(),Titanium.UI.createView({backgroundColor:"#FFFFFF",borderRadius:10,borderColor:"#333333",borderWidth:"5dip",visible:!1,height:"8%",width:n/2,zIndex:700})),a=Ti.UI.createActivityIndicator({color:"#333333",font:{fontSize:"14dip",fontWeight:"bold"},message:"Loading...",style:"iPhone OS"===Ti.Platform.name?Ti.UI.iPhone.ActivityIndicatorStyle.DARK:Ti.UI.ActivityIndicatorStyle.DARK,height:"100%",width:"100%"});o.add(a),i.add(o);var r=Ti.UI.createImageView({url:"/assets/iconHighlight.png",height:"10%",width:"14.2%",top:"0%",left:"15%",zIndex:50});r.addEventListener("load",function(){});Titanium.UI.createLabel({text:"229",bottom:"1.1%",left:"16.0%",textAlign:"left",color:"#bf893b",font:{fontSize:"10dip",fontWeight:"bold"}}),e.Record[0].GENDER;i.addEventListener("load",function(){});var d=(Ti.UI.createImageView({image:"/assets/itemWindow_001.png",opacity:"0.7",width:"90%",height:"25%",left:"5%",top:"10%",zIndex:100}),Titanium.UI.createLabel({top:"12.3%",left:"44%",textAlign:"left",color:"#5afd9b",font:{fontSize:16,fontWeight:"bold"},zIndex:100}));i.add(d);var s=Titanium.UI.createLabel({top:"23.3%",right:"7.9%",textAlign:"left",color:"#5afd9b",font:{fontSize:"10dip"},zIndex:100});i.add(s);var c=Titanium.UI.createButton({color:"#761f56",backgroundImage:"/assets/button_small_UP.png",title:"Crafting",height:"7%",width:"24%",top:"27.5%",right:"30%",zIndex:100,font:{fontSize:14}});i.add(c),c.addEventListener("click",function(){a.show(),o.visible=!0;var t=require("ui/common/MenuScreen/inventorycrafting"),i=new t(e);i.open(),a.hide(),o.visible=!1});var l=Ti.UI.createImageView({image:"/assets/Chest.png",height:"45%",width:"86%",bottom:"0%",left:"7%",zIndex:75});i.add(l);var u=Titanium.Platform.displayCaps.platformWidth,p=80,f=4,g=p/100*u,m=g/f*2,h={},I=Ti.Platform.osname,T=Ti.Platform.displayCaps.platformHeight,v=Ti.Platform.displayCaps.platformWidth,E="ipad"===I||"android"===I&&(v>899||T>899);E=!0;var _="inv_128/",R=[];t(function(e){R.TableviewCallback=e,i.add(R.TableviewCallback)}),Ti.App.addEventListener("update_inv_grid",function(){t(function(e){i.remove(R.TableviewCallback),R.TableviewCallback=null,R.TableviewCallback=e,i.add(R.TableviewCallback)})});var b=Ti.UI.createImageView({height:"20%",width:"24.1%",top:"12.1%",left:"9%",zIndex:100});b.addEventListener("load",function(){}),i.add(b);var A=Titanium.UI.createButton({color:"#761f56",top:"33.5%",left:"6%",backgroundImage:"/assets/button_small_UP.png",height:"8%",zIndex:5e3,title:"K&P Store",width:"35%"});return i.add(A),A.addEventListener("click",function(){a.show(),o.visible=!0;var t=require("ui/common/MenuScreen/KnPStore"),i=new t(e);i.open(),a.hide(),o.visible=!1}),i}module.exports=Inventoryscreen;