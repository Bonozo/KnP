function ForgetPassword(e){var t=Ti.UI.createWindow({height:"100%",width:"100%",opacity:.75,orientation:Ti.UI.PORTRAIT,navBarHidden:!0,fullscreen:!0}),i=Titanium.Platform.displayCaps.platformWidth,n=(Titanium.Platform.displayCaps.platformHeight,Titanium.UI.createView({backgroundColor:"#FFFFFF",borderRadius:10,borderColor:"#333333",borderWidth:"5dip",visible:!1,height:"8%",width:i/2,zIndex:700})),a=Ti.UI.createActivityIndicator({color:"#333333",font:{fontSize:"14dip",fontWeight:"bold"},message:"Loading...",style:"iPhone OS"===Ti.Platform.name?Ti.UI.iPhone.ActivityIndicatorStyle.DARK:Ti.UI.ActivityIndicatorStyle.DARK,height:"100%",width:"100%"});n.add(a),t.add(n);var r=Ti.UI.createView({height:"75%",width:"80%",backgroundGradient:{type:"linear",colors:["#21653d","#00321f"],startPoint:{x:"0%",y:"0%"},endPoint:{x:"0%",y:"100%"},backFillStart:!1},borderColor:"#b3fad0",borderRadius:"7",borderWidth:"1dip"}),o=Ti.UI.createTextField({height:"auto",width:"75%",top:"5%",width:"85%",hintText:"Email Address",keyboardType:Ti.UI.KEYBOARD_DEFAULT,returnKeyType:Ti.UI.RETURNKEY_DEFAULT,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED}),d=Ti.Platform.osname;"android"===d&&(o.softKeyboardOnFocus=Ti.UI.Android.SOFT_KEYBOARD_DEFAULT_ON_FOCUS),o.addEventListener("return",function(){o.blur()});var s=Ti.UI.createTextField({height:"auto",width:"75%",top:"5%",width:"85%",hintText:"Reset Code",keyboardType:Ti.UI.KEYBOARD_NAMEPHONE_PAD,returnKeyType:Ti.UI.RETURNKEY_DEFAULT,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED}),d=Ti.Platform.osname;"android"===d&&(s.softKeyboardOnFocus=Ti.UI.Android.SOFT_KEYBOARD_DEFAULT_ON_FOCUS),s.addEventListener("return",function(){s.blur()}),r.add(s);var c=Ti.UI.createTextField({passwordMask:!0,height:"auto",width:"75%",top:"20%",width:"85%",hintText:"Password",keyboardType:Ti.UI.KEYBOARD_APPEARANCE_DEFAULT,returnKeyType:Ti.UI.RETURNKEY_DEFAULT,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED}),d=Ti.Platform.osname;"android"===d&&(c.softKeyboardOnFocus=Ti.UI.Android.SOFT_KEYBOARD_DEFAULT_ON_FOCUS),c.addEventListener("return",function(){c.blur(),alert("Input was: "+o.value)}),r.add(c);var l=Ti.UI.createTextField({passwordMask:!0,height:"auto",width:"75%",top:"35%",width:"85%",hintText:"Retype Password",keyboardType:Ti.UI.KEYBOARD_APPEARANCE_DEFAULT,returnKeyType:Ti.UI.RETURNKEY_DEFAULT,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED}),d=Ti.Platform.osname;"android"===d&&(l.softKeyboardOnFocus=Ti.UI.Android.SOFT_KEYBOARD_DEFAULT_ON_FOCUS),l.addEventListener("return",function(){l.blur()}),r.add(l);var u=Ti.UI.createButton({color:"#761f56",title:"Reset Password",top:"80%",color:"white",width:"80%",height:"15%",backgroundGradient:{type:"linear",colors:["#21653d","#00321f"],startPoint:{x:"0%",y:"0%"},endPoint:{x:"0%",y:"100%"},backFillStart:!1},opacity:.5,borderColor:"#b3fad0",borderRadius:"7",borderWidth:"1dip"});r.add(u),u.addEventListener("click",function(){if(""==s.value||""==c.value||""==l.value)return alert("All fields are required!"),void 0;if(c.value!=l.value)return alert("Password must be same!"),void 0;a.show(),n.visible=!0,a.message="Resetting password...";var i=require("/ui/common/Functions/function");i.requestServer({success:function(){p=JSON.parse(this.responseText),a.hide(),n.visible=!1;var e=0==p.Record.Error?["Close"]:["Close","Retry"],i=Titanium.UI.createAlertDialog({title:"Reset Password.",message:p.Record.Message,buttonNames:e,cancel:1});i.show(),i.addEventListener("click",function(e){switch(e.index){case 0:i.hide(),t.close();break;case 0:i.hide()}})},method:"GET",contentType:"text/xml",url:"http://bonozo.com:8080/knp/reset_password.php?email="+Ti.Network.encodeURIComponent(e)+"&code="+Ti.Network.encodeURIComponent(s.value)+"&password="+Ti.Network.encodeURIComponent(c.value)})});var p,f=Ti.UI.createButton({color:"#761f56",title:"Retreive Code",top:"80%",color:"white",width:"35%",right:"10%",height:"15%",backgroundGradient:{type:"linear",colors:["#21653d","#00321f"],startPoint:{x:"0%",y:"0%"},endPoint:{x:"0%",y:"100%"},backFillStart:!1},opacity:.5,borderColor:"#b3fad0",borderRadius:"7",borderWidth:"1dip"});return f.addEventListener("click",function(){}),t.add(r),t}module.exports=ForgetPassword;