<?php/** * @category	Plugins * @package		JomSocial * @copyright (C) 2008 by Slashes & Dots Sdn Bhd - All rights reserved! * @license		GNU/GPL, see LICENSE.php */// no direct accessdefined( '_JEXEC' ) or die( 'Restricted access' );jimport( 'joomla.plugin.plugin' );/** * Editor Jomsocial Photo Button * * @package Editors-xtd * @since 1.5 */class plgButtonMyPhotos extends JPlugin{	/**	 * Constructor	 *	 * For php4 compatability we must not use the __constructor as a constructor for plugins	 * because func_get_args ( void ) returns a copy of all passed arguments NOT references.	 * This causes problems with cross-referencing necessary for the observer design pattern.	 *	 * @param 	object $subject The object to observe	 * @param 	array  $config  An array that holds the plugin configuration	 * @since 1.5	 */	function plgButtonMyPhotos(& $subject, $config)	{		parent::__construct($subject, $config);	}	/**	 * Display the button	 *	 * @return array A two element array of ( imageName, textToInsert )	 */	function onDisplay($name)	{		//global $mainframe;		$mainframe =& JFactory::getApplication();		$user = & JFactory::getUser();		$link = $mainframe->isAdmin() ? '../' : '';		$link .= 'index.php?option=com_community&view=profile&task=app&app=editormyphotos&e_name=' . $name . '&userid=' . $user->id;		JHTML::_('behavior.modal');		$button = new JObject();		$button->set('modal', true);		$button->set('link', $link);		$button->set('text', 'My Photos');		$button->set('name', 'blank');		$button->set('options', "{handler: 'iframe', size: {x: 700, y: 600}}");		return $button;	}}